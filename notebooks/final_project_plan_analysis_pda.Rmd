---
title: "Final project plan & analysis"
author: "Simone Famiano"
date: '2022-06-16'
output: html_document
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
library(here)
```



```{r, echo=FALSE, out.width = '80%'}
knitr::include_graphics(here("D:/CodeClan/final_project_simone_famiano/notebooks/rspcalogo_withtag_fullcolour_rgb.jpg"))
```

## RSPCA

RSPCA Australia (Royal Society for the Prevention of Cruelty to Animals) is an Australian organisation established in 1981 to promote animal welfare.

RSPCA Australia defines its purpose as being the leading authority in animal care and protection, and to prevent cruelty to animals by actively promoting their care and protection.


With their mission for animal welfare in mind, this analysis will focus the numbers and type of animal complains RSPCA dealt over the last decade and their outcome. The aim is to point any KPI over time in a suburb, urban and national scale, so to identify focal point of interest for the organisation.

The analysis is aiming to answer these questions:

__• What is the total call volume for complaint calls regarding pets in Brisbane and Townsville?__

__• Is there a particular animal being called about the most?__

__• Do particular suburbs have different type of complaint calls? __

__• How have the different outcomes trended over time? Did RSPCA work have an impact?__

__• Using the insights found, can we predict how this might look for the upcoming year?__

## Data sources

This data comes from three sources:

• The Open RSPCA database 

• Townsville Animal Complaints 

• Brisbane Open Data - Animal Complaints

The __Open RSPCA database__ contains annual statistics on the numbers of animals received, reclaimed or rehomed. These are compiled on a national basis by RSPCA Australia.

__Townsville Animal Complaints__ lists of grievances received by Townsville City Council from 2013 to 2022 including animal type (cat/dog), complaint type, suburb and local government electoral division. 
Dataset is based on the 6 primary complaint categories of noise, wandering, enclosure, aggressive animal, attack and private impound.

__Brisbane Open Data__ is a report on the total animal related complaints received in a quarter by Brisbane City Council. Information includes basic detail around the nature/type of the complaint and the suburb.

The three data sets are composed in both categorical and numerical variables (i.e. `animal_type` and `total_outcomes`). They all came in .csv file format. 

I don't have found any reason that suggests the data is biased, although it could have been more inclusive, in particular geographically. 

The data sets differ from each other in scale; the RSPCA gives a national view on animal complaints outcomes, while the Townsville and Brisbane are generated by the local authority and cover complaints type and numbers in their respective area.

Although the last two data sets are very useful for a comparison between two different realities (Brisbane is the largest city in Australia and third by population, while Townsville is half the size and has 1/10 of the population), it would have been more insightful to have further data from a similar reality (for example Melbourne to compare with Brisbane and Darwin to compare with Townsville).

I have also noticed that the more prevalent animal types in the data set are dogs and cats, but this could be due more simply by the fact that they are the most popular pets.
In the Brisbane data set is not often clear what animal is the subject of the complaint or sometime is describe simply as `wildlife`.

The complaints outcome data presents the outcome type, totals and animal type. Would have been interesting if it had included some further info for example the age of the animal to check if it affected the outcome.

## Ethics

Nothing concerning about ethics in the data sets. There no personal information on pet owners or people who started a complain, nor any identification for the pets (i.e. chip number etc.) 

House pets are described generically as `Dogs`, `Cats` and `Other animals`. 

There is no information on breed or background, which if it were the other way around, could have easily led to clickbait tabloid-ish insight like _"most dangerous dog"_ and such, when the reason for collecting the data wasn't certainly this one.

Same applies for non-house pets, we have very generic names: `Livestock`, `Wildlife` and `Horses`.

## Analysis

As mentioned above, the roots of the analysis will be 5 questions:

__• What is the total call volume for complaint calls regarding pets in Brisbane and Townsville?__

__• Is there a particular animal being called about the most?__

__• Do particular suburbs have different type of complaint calls? __

__• How have the different outcomes trended over time? Did RSPCA work have an impact?__

__• Using the insights found, can we predict how this might look for the upcoming year?__

All the process, from data cleaning to data analysis will be done in R Studio. 

The slides for the presentation will be generated in PowerPoint.

The analysis itself will be a Descriptive Analytics on the complaints received by RSPCA in the city of __Brisbane__ and the city of __Townsville__. This part of the analysis will concentrate on the first three questions.

_• What is the total call volume for complaint calls regarding pets in Brisbane and Townsville?_

_• Is there a particular animal being called about the most?_

_• Do particular suburbs have different type of complaint calls?_


It will be interesting to point any difference of KPIs in the two locations and if there is any hypothesize why.

The second part of the analysis will be investigating the outcome of complaints on a national scale, analysing the trend over the years.

_• How have the different outcomes trended over time? Did RSPCA work have an impact?_

The third and final part will be a Predictive Analytics on the outcome of complaints trend for the next year.

_• Using the insights found, can we predict how this might look for the upcoming year?_

I consider this part as an extension, so it will appear in the final project unless any major issue such as bad time management etc. 

## The analysis

Libraries:

```{r}
library(rpart)
library(rpart.plot)
library(here)
library(forcats)
library(janitor)
library(tidyverse)
```

The Data:

```{r}
townsville_complaints <- read_csv(here(
  "clean_data/townsville_complaints_clean.csv")
  )

townsville_complaints_tot_per_suburb <- read_csv(here(
  "clean_data/townsville_complaints_tot_per_suburb.csv")
  )

national_outcomes <- read_csv(here(
  "clean_data/national_outcomes_clean.csv")
  )

brisbane_complaints <- read_csv(here(
  "clean_data/brisbane_complaints_clean.csv")
  ) %>% 
  mutate(suburb = str_to_title(suburb)
         )

brisbane_complaints_tot_per_suburb <- read_csv(here(
  "clean_data/brisbane_complaints_tot_per_suburb.csv")
  ) %>% 
  mutate(suburb = str_to_title(suburb)
         )

townsville_complaints
townsville_complaints_tot_per_suburb
brisbane_complaints
brisbane_complaints_tot_per_suburb
national_outcomes
```

In the cleaning script, from the three raw data sets I have got five clean data set to use for the analysis.

The Townsville and Brisbane data sets were cleaned and divided in two: one with the total cases by suburbs and the other keeping `date_received` and `date_range` column. 

I felt having separated data sets with information on time would have been better, rather than include them with the row totals. 

An analysis of the complaints over time wasn't part of my MVP but rather an extension, so it would make sense to have this two data sets on the side in case I decided to go for it. 

The national outcome is a long list of outcomes per animal in every Australian State from 1999 to 2018.

Let's start to look at the complain type in Townsville.

```{r}
townsville_complaints_tot_plot <- townsville_complaints %>% 
  ggplot() +
  geom_bar(aes(y = fct_infreq(complaint_type), 
                                   fill = animal_type)) +
  labs(x = "Complaint Type", 
       y = "Totals", 
       title = "Townsville Complaint Type Totals") +
  scale_fill_manual("Animal Type", values = c("cat" = "#74c066",
                                              "dog" = "#0193cf")
                    ) +
  theme_bw() +
  theme(text=element_text(size = 16, family = "Arial"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position = "none") +
  facet_wrap(~ animal_type)
  

townsville_complaints_tot_plot
```

In Townsville, dogs receive the more complaints.

Calls regarding Cats are more concentrated on the welfare of the animal rather than proper annoyance like in dogs

```{r}
exclude <- c("Dog")

brisbane_complaints_tot_plot <- brisbane_complaints %>% 
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  filter(animal_type %in% "cat" | animal_type %in% "dog") %>% 
  filter(!category %in% exclude) %>% 
  ggplot() +
  geom_bar(aes(y = fct_infreq(category), fill = animal_type)) +
  labs(x = "Complaint Type", 
       y = "Totals", 
       title = "Brisbane Complaint Type Totals") +
  scale_fill_manual("Animal Type", values = c("cat" = "#74c066",
                                              "dog" = "#0193cf")
                    ) +
  theme_bw() +
  theme(text=element_text(size = 16, family = "Arial"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position = "none") +
  facet_wrap(~ animal_type)
  

brisbane_complaints_tot_plot
```
In Brisbane again, dogs are again the focus of complains.

We can notice some difference from Townsville, there is more variety of complains and looks like in Brisbane dogs have something for fences.

Also, it seems to be an issue with foxes. 

Let's look at this further.

## Brisbane vs Fox

```{r}
include <- "Fox"

brisbane_complaints_fox_plot <- brisbane_complaints %>%
  mutate(animal_type = str_to_lower(animal_type)) %>% 
 # filter(!animal_type %in% "cat" | animal_type %in% "dog") %>% 
  filter(category %in% include) %>% 
  ggplot() +
  geom_bar(position = "dodge", aes(x = category, fill = animal_type)) +
  labs(x = "Complaint Type", 
       y = "Totals", 
       title = "Brisbane Fox Troubles") +
  scale_fill_manual("Grievances", values = c("cat trapping" = "#73182c", 
                                             "other animal" = "#d6a115",
                                             "attack" = "#244321",
                                             "cat " = "#74c066",
                                             "dog" = "#0193cf")
                    ) +
  theme_bw() +
  theme(text=element_text(size = 16, family = "Arial"))
  
brisbane_complaints_fox_plot
```

A fair amount of complaints are regarding foxes attacking dogs and cats and in particular trapping the latter.

__Advise business to do campaign on keeping pets inside at home, in particular cats, as long as it necessary.__


```{r}
brisbane_complaints_fox_per_suburbs <- brisbane_complaints_tot_per_suburb %>% 
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  #filter(!animal_type %in% "cat" | animal_type %in% "dog") %>% 
  filter(category %in% include) %>% 
  filter(total > 30) %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = animal_type)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Brisbane Suburbs Fox Troubles*",
       caption = "* just considering Suburbs with more that 30 complaints") +
  scale_fill_manual("Grievances", values = c("cat trapping" = "#73182c",
                                              "attack" = "#244321",
                                              "other animal" = "#d6a115")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, family = "Arial"),
        plot.caption = element_text(hjust = 1.4, face = "italic"))
  
brisbane_complaints_fox_per_suburbs
```

If we look at the fox problem by suburb, we notice that the cat trapping issue is particularly felt in Inala. 

Probably because this is a more remote area. __It would be good to consider this particular area to address a "keep pets at home" campaign.__

```{r}
brisbane_complaints_by_suburbs <- brisbane_complaints_tot_per_suburb %>% 
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  filter(animal_type %in% "cat" | animal_type %in% "dog") %>% 
  filter(!category %in% exclude) %>% 
  filter(total > 50) %>% 
  drop_na() %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = animal_type)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Brisbane Suburbs Pets Complaints*",
       caption = "* just considering Suburbs with more that 50 complaints") +
   scale_fill_manual("Animal Type", values = c("cat" = "#74c066",
                                              "dog" = "#0193cf")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, family = "Arial"),
        axis.text.x = element_text(angle = 60, hjust = 1),
        plot.caption = element_text(hjust = 1.4, face = "italic"))
  
brisbane_complaints_by_suburbs
```

Dogs are predominant in the complain in every suburbs. There are some calls in Bracken Bridge regarding cats and these seems again to be related to fox issues.

```{r}
brisbane_subs_complaints_type_dogs <- brisbane_complaints_tot_per_suburb %>% 
  mutate(category = str_to_lower(category)) %>% 
  filter(animal_type == "Dog") %>% 
  filter(!category %in% exclude) %>% 
  filter(total > 50) %>% 
  drop_na() %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = category)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Brisbane Suburbs Pets Complaints Type - Dogs*",
       caption = "* just considering Suburbs with more that 50 complaints") +
  scale_fill_manual("Complaints Type", values = c("fencing issues" = "#74c066",
                                                  "unregistered" = "#244321",
                                                  "wandering" = "#d6a115")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, family = "Arial"),
        plot.caption = element_text(hjust = 1.4, face = "italic"))

brisbane_subs_complaints_type_dogs

```
The majority of the complaints are regarding fencing issues, so most probably problems between neighbors. 

Again, most of the calls are from Inala. 

```{r}
brisbane_subs_complaints_type_cats <- brisbane_complaints_tot_per_suburb %>% 
  mutate(category = str_to_lower(category)) %>% 
  filter(animal_type == "Cat") %>% 
  filter(!category %in% exclude) %>% 
  filter(total > 10) %>% 
  drop_na() %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = category)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Brisbane Suburbs Pets Complaints Type - Cats*",
       caption = "* just considering Suburbs with more that 10 complaints") +
  scale_fill_manual("Complaints Type", values = c("fox" = "#74c066",
                                                  "wandering" = "#0193cf")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, family = "Arial"),
        plot.caption = element_text(hjust = 1.4, face = "italic"))

brisbane_subs_complaints_type_cats
```
While for cats the majority of calls are regarding a lost or stray cats wandering. 

Plus the already mentioned, fox issue.

```{r}
townsville_complaints_by_suburbs <- townsville_complaints_tot_per_suburb %>%
  filter(total > 30) %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = animal_type)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Townsville Suburbs Complaints Totals",
       caption = "* just considering Suburbs with more that 30 complaints") +
  scale_fill_manual("Complaints Type", values = c("cat" = "#74c066",
                                                  "dog" = "#0193cf")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, family = "Arial"),
        plot.caption = element_text(hjust = 1.4, face = "italic"))

townsville_complaints_by_suburbs
```

Going back to Townsville and looking at its suburbs, dogs are at it again. 

Most complains are directed to dogs.

```{r}
townsville_complaints_type_cats <- townsville_complaints_tot_per_suburb %>% 
  mutate(complaint_type = str_to_lower(complaint_type)) %>% 
  filter(animal_type == "cat") %>% 
  filter(total > 10) %>% 
  filter(!suburb == "Unallocated") %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = complaint_type)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Townsville Suburbs Complaints - Cats",
       caption = "* just considering Suburbs with more that 10 complaints") +
  scale_fill_manual("Complaints Type", values = c("enclosure" = "#74c066",
                                                  "private impound" = "#0193cf",
                                                  "wandering" = "#244321")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, family = "Arial"),
        axis.text.x = element_text(angle = 60, hjust = 1),
        plot.caption = element_text(hjust = 1.4, face = "italic"))

townsville_complaints_type_cats
```

If we look at the complaints type for cats by suburbs, we see that the majority of calls for cat are for private impound which means that a person not associated with RSCA takes in a cat, in this case, and alert RSPCA after that.

No foxes mentioned here.

```{r}
townsville_complaints_type_dogs <- townsville_complaints_tot_per_suburb %>% 
  mutate(complaint_type = str_to_lower(complaint_type)) %>% 
  filter(!animal_type == "cat") %>% 
  filter(total > 50) %>% 
  filter(!suburb == "Unallocated") %>% 
  ggplot() +
  geom_col(aes(y = suburb, x = total, fill = complaint_type)) +
  labs(y = "Suburb", 
       x = "Totals", 
       title = "Townsville Suburbs Complaints Totals - Dogs",
       caption = "* just considering Suburbs with more that 50 complaints") +
  scale_fill_manual("Complaints Type", values = c("enclosure" = "#74c066",
                                                  "private impound" = "#0193cf",
                                                  "wandering" = "#244321",
                                                  "attack" = "#d6a115",
                                                  "noise" = "#73182c",
                                                  "aggressive animal" = "#ff0000")
                    ) +
  scale_y_discrete(limits = rev) +
  theme_bw() +
  theme(text=element_text(size = 10, 0.1, family = "Arial"),
        plot.caption = element_text(hjust = 1.4, face = "italic")) 

townsville_complaints_type_dogs

```

Mount Louisa and Kirwan have a very high volume of calls for aggressive dogs and even attacks. 

There is a high level of call for enclosure as well, which could be either a trapped animal or most probably in this case a dog tied to a chain outside in hot water or closed inside without the opportunity to go out, this again reflects in the higher than average amount of calls for noise.

__RSPCA should probably further inquire on pets welfare in this suburbs and concentrate a campaign on how to be a good dog owner.__

```{r}
national_outcomes_pets <-  national_outcomes %>% 
  filter(!outcome == "Currently In Care") %>%
  filter(!outcome == "Other") %>%
  filter(animal_type == "Cats" | animal_type == "Dogs") %>%
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  group_by(animal_type, outcome) %>% 
  summarise(tot = sum(tot_outcomes)) %>% 
  drop_na() %>% 
  ggplot() +
  geom_col(position = "dodge", colour = "white", aes(y = fct_infreq(outcome), 
                                                     x = tot, 
                                                     fill = animal_type)
           )+
  labs(y = "Outcome", 
       x = "Totals", 
       title = "National Complaint Outcome per animal type since 1999") +
  scale_fill_manual("Animal Type", values = c("cats" = "#74c066",
                                                  "dogs" = "#0193cf")
                    ) +
  scale_x_continuous(labels = scales::comma) +
  theme_bw() +
  theme(text=element_text(size = 14, family = "Arial"),
        axis.text.x = element_text(angle = 45, hjust = 1),
        legend.position = "none") +
  facet_wrap(~animal_type)

national_outcomes_pets
```
The most common outcome for cats is to be euthanised, and they are not reclaimed as often a dogs and I am not sure how many how the rehoming are successful. 

I can imagine that a cat that gets returned to RSPCA or ends up again in the street is not a rare scenario, that would explain the difference in numbers for euthanised and reclaimed with dogs.

```{r}
national_outcomes %>% 
  filter(animal_type == "Cats" | animal_type == "Dogs") %>% 
  group_by(animal_type) %>% 
  drop_na() %>% 
  summarise(tot_outcomes = sum(tot_outcomes))
```


The number of cats and dogs in the data set is almost equivalent so I tend to believe the above hypothesis.

```{r}
euthanisation_trend_cats_dogs <- national_outcomes %>%  
  filter(animal_type == "Cats" | animal_type == "Dogs") %>% 
  filter(outcome == "Euthanized") %>%
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  group_by(year, animal_type, outcome) %>% 
  summarise(tot_outcomes = sum(tot_outcomes)) %>% 
  ungroup() %>% 
  ggplot() +
  geom_line(size = 2,aes(x = year, 
                         y = tot_outcomes, 
                         group = animal_type, 
                         colour = animal_type)
            ) +
  labs(x = "Year", 
       y = "Euthanisations", 
       title = "Cats & Dogs Euthanisation trend since 1999") +
  scale_colour_manual("Animal Type", values = c("cats" = "#74c066",
                                              "dogs" = "#0193cf")
                    ) +
  theme_bw() +
  theme(text=element_text(size = 14, family = "Arial"))

euthanisation_trend_cats_dogs
```

The good news is that the trend is changing, since the 2010s euthanisations have dropped drastically.

```{r}
rehoming_trendcats_dogs <- national_outcomes %>%  
  filter(animal_type == "Cats" | animal_type == "Dogs") %>% 
  filter(outcome == "Rehomed") %>%
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  group_by(year, animal_type, outcome) %>% 
  summarise(tot_outcomes = sum(tot_outcomes)) %>% 
  ungroup() %>% 
  ggplot() +
  geom_line(size = 2,aes(x = year, 
                         y = tot_outcomes, 
                         group = animal_type, 
                         colour = animal_type)
            ) +
  labs(x = "Year", 
       y = "Rehomed", 
       title = "Cats & Dogs Rehomed trend since 1999") +
  scale_colour_manual("Animal Type", values = c("cats" = "#74c066",
                                              "dogs" = "#0193cf")
                    ) +
  theme_bw() +
  theme(text=element_text(size = 14, family = "Arial"))

rehoming_trendcats_dogs
```
Rehoming numbers for cats have increase drastically since the 2010s, but again I have doubts on how many of these were successful.

```{r}
reclaimed_trendcats_dogs <- national_outcomes %>%  
  filter(animal_type == "Cats" | animal_type == "Dogs") %>% 
  filter(outcome == "Reclaimed") %>%
  mutate(animal_type = str_to_lower(animal_type)) %>% 
  group_by(year, animal_type, outcome) %>% 
  summarise(tot_outcomes = sum(tot_outcomes)) %>% 
  ungroup() %>% 
  ggplot() +
  geom_line(size = 2,aes(x = year, 
                         y = tot_outcomes, 
                         group = animal_type, 
                         colour = animal_type)
            ) +
  labs(x = "Year", 
       y = "Recaimed", 
       title = "Cats & Dogs Reclaimed trend since 1999") +
  scale_colour_manual("Animal Type", values = c("cats" = "#74c066",
                                              "dogs" = "#0193cf")
                    ) +
  theme_bw() +
  theme(text=element_text(size = 14, family = "Arial"))

reclaimed_trendcats_dogs
```
The reclaimed trends for cats hasn't been that great and it's stable during the years.

For dog the trend is going down although this couldn't been so gloom, with the diffusion of social media and in particular neighborhood pages, when a dog go missing the voice is spread quickly and usually they are found before RSPCA intervention. 

__A campaing to invite cat owners to register and chip their cats probably would help in having better number for reclaimed cats__

## Preparing the data set for the decision tree

I will create three decision tree, one comparing the outcome with the state, one with the animal type and a last one with the whole data set.

```{r}
tree_national_outcomes <- rowid_to_column(national_outcomes, "id") %>% 
  drop_na()

decision_tree_try <- data.frame(lapply(tree_national_outcomes, 
                                       rep, 
                                       tree_national_outcomes$tot_outcomes))
```

```{r}
clean_national_test <- decision_tree_try %>% 
  #filter(year == "2018") %>% 
  filter(animal_type == "Dogs" | animal_type == "Cats") %>% 
  filter(outcome == "Euthanized" | 
         outcome == "Rehomed" ) %>% 
   mutate(animal_type = as.factor(animal_type),
         state = as.numeric(factor(state)),
         outcome = as.numeric(factor(outcome))
         ) %>% 
  mutate(state = factor(state, levels = c(1,2,3,4,5,6,7,8),
                        labels = c("Australian Capital Territory",
                                   "New South Wales",
                                   "Northern Territory",
                                   "Queensland",
                                   "South Australia",
                                   "Tasmania",
                                   "Victoria",
                                   "Western Australia")),
         outcome = factor(outcome, levels = c(1,2), 
                              labels = c("Euthanized", "Rehomed"))
         ) %>% 
  select(-id, -tot_outcomes) 

```

```{r}
n_data <- nrow(clean_national_test)

test_index <- sample(1:n_data, size = n_data*0.2)

outcomes_test  <- slice(clean_national_test, test_index)

outcomes_train <- slice(clean_national_test, -test_index)

outcomes_test %>% 
  tabyl(outcome)

outcomes_train %>% 
  tabyl(outcome)

```

```{r}
outcome_fit_state <- rpart(
  formula = outcome ~ animal_type + state, 
  data = outcomes_train, 
  method = 'class'
)

rpart.plot(outcome_fit_state , 
           yesno = 2,
           fallen.leaves = TRUE, 
           faclen = 6, 
           digits = 2)
```

A dog or a cat that enters RSPCA care has a 47% chance to be euthanised.

If the dog IS NOT in New South Wales, Northern Territories, Southern Australia, Tasmania and Victoria, there's a 69% chance that it will be rehomed.

Could this states improve to reach the good rehoming percentage of Western Australia and Australia Capital Territory?

```{r}
outcome_fit_animal <- rpart(
  formula = outcome ~ animal_type, 
  data = outcomes_train, 
  method = 'class'
)

rpart.plot(outcome_fit_animal, 
           yesno = 2,
           fallen.leaves = TRUE, 
           faclen = 6, 
           digits = 2)
```

Dogs have 52% chance to be rehomed, while cats have a 44% chance to be euthanised. 

```{r}
outcome_fit_all <- rpart(
  formula = outcome ~ ., 
  data = outcomes_train, 
  method = 'class'
)

rpart.plot(outcome_fit_all, 
           yesno = 2,
           fallen.leaves = TRUE, 
           faclen = 6, 
           digits = 2)
```

If the change of trend on euthanasia and rehomeming started in 2012 doesn't change, a dog or cat in RSPCA care could have the 67% chance to be rehomed.

## Conclusions

__• What is the total call volume for complaint calls regarding pets in Brisbane and Townsville?__

In Brisbane there are more than 13k calls regarding dogs and more than 2k for cats.

In Townsville there are more than 38k calls regarding dogs and more than 4k for cats.

It would look like RSPCA is more busy in Townsville beside their being the smaller town (100k people living there vs 2M in Brisbane). 

As I mentioned before, Townsville data was completed and plenty focused on dogs and cats, while Brisbane was less clear on the animal type for many complaints. 

So I can't exclude that the more numbers for Townsville are a consequence of them gathering data better than in Townsville.

__• Is there a particular animal being called about the most?__

Dogs, by a long margin.

__• Do particular suburbs have different type of complaint calls? __

Inala in Brisbane is dealing with a fox problem, they seems to molest cats in particular. 

Also in Inala there are a lot of complaints regarding dogs and fences.

Would be useful to suggest a campaign that invites pets owners to keep their animal is if possible, in particular cats, and a campaign of general advise on how to teach a dog to behave in the yard and not chew the neighbour fence. 

Mount Louisa and Kirwan in Townsville have a shocking number of complaints for violent dogs. 

Looking at the higher than average number of complaints for noise or trapped animal, all seems to suggest this are the consequence of mistreated animals by bad owners.

__• How have the different outcomes trended over time? Did RSPCA work have an impact?__

Since the 2010s euthanisations have dropped drastically.

Rehoming are rising for cats, although I express my doubt on how many of this are successful, considering the disparity of reclaimed and euthanised
cats compared with dogs.

Beside this, the number of euthanisation dropping since 2012 if a general sign of things getting better: more animals are rehomed or reclaimed or don't even get in RSPCA care because they have good owners.

__• Using the insights found, can we predict how this might look for the upcoming year?__

If the 2012 trend doesn't change, a dog or a cat in RSPCA care could have the 67% chance to be rehomed.

Australia and Australia Capital Territory are having better rehoming numbers compared with the rest of the country, focusing on their process, establishing if it differs from the other states could help keeping this new trend going. 